<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Text To Video | AlchemistAl</title>
  <!-- S·ª≠ d·ª•ng CDN c·ªßa Tailwind CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="./css/texttovideo.css" />
  <link rel="stylesheet" href="./css/header.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet" />
</head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
<style>
    h1 {
    padding-top: 3%;
    font-family: "Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS",
      sans-serif;
  }

  h1:hover {
    color: #b8b7b9;
  }

  .sect {
    border: 2px solid whitesmoke;
    border-radius: 10px;
  }

  .text {
    text-align: center;
    width: 70%;
    font-size: 20px;
    padding-bottom: 10px;
  }

  /* From Uiverse.io by mrpumps31232 */
  .loading-wave {
    width: 300px;
    height: 100px;
    display: flex;
    justify-content: center;
    align-items: flex-end;
  }

  .loading-bar {
    width: 20px;
    height: 10px;
    margin: 0 5px;
    background-color: #0a9de2;
    border-radius: 5px;
    animation: loading-wave-animation 1s ease-in-out infinite;
  }

  .loading-bar:nth-child(2) {
    animation-delay: 0.1s;
  }

  .loading-bar:nth-child(3) {
    animation-delay: 0.2s;
  }

  .loading-bar:nth-child(4) {
    animation-delay: 0.3s;
  }
</style>

<body class="bg-gray-50">
  <!-- Header -->
  <header>
    <button class="menu-toggle">
      <i class="fas fa-bars"></i>
    </button>
    <div class="logo">
      <img style="border: 2px solid #3b82f6 ;" class="w-16 h-16 rounded-full object-cover" src="./asserts/images/logo.png"
      alt="Logo"
      />
      <span class="logo_text" style="background: linear-gradient(90deg, #00c6ff, #7d51f1, #a855f7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;" class="text-xl font-bold">
      AlchemistAI</span>
    </div>
    <nav class="menu">
      <a href="index.html" class="text-white no-underline font-extrabold hover:text-green-300 pb-1 text-lg">Home</a>
      <a href="texttospeech.html" class="text-white no-underline font-extrabold hover:text-green-300 pb-1 text-lg">Text to Speech</a>
      <a href="texttoimage.html" class="text-white no-underline font-extrabold  hover:text-green-300 pb-1 text-lg">Text to Image</a>
      <a href="texttomusic.html" class="text-white no-underline font-extrabold  hover:text-green-300 pb-1 text-lg">Text to Music</a>
      <a href="#" class="text-blue-600 font-extrabold border-b-2 border-blue-600 pb-1 hover:text-blue-700 text-lg">Text to Video</a>
    </nav>
      <div class="login-container">
          <a href="sign_in.html" id="sign_in" class="login-button">Login</a>
      </div>
    <div class="avatar-container">
      <div id="user-balance">Loading‚Ä¶</div>
      <img src="./asserts/images/ho.jpg" alt="User Avatar" class="avatar" id="avatarImg">
      <!-- Dropdown Menu -->
      <div class="dropdown-menu" id="dropdownMenu">
        <a href="profile.html" class="dropdown-menu-item">
          <i class="fas fa-user"></i>
          <span>Profile</span>
        </a>
        <div class="dropdown-divider"></div>
        <a href="settings.html" class="dropdown-menu-item">
          <i class="fas fa-cog"></i>
          <span>Settings</span>
        </a>
        <div class="dropdown-divider"></div>
        <a href="https://36f20c06-9031-4599-91da-7ec3a0e1a861-00-1jytyyr3v3x2w.pike.replit.dev/payment" class="dropdown-menu-item">
          <i class="fas fa-money-bill"></i>
          <span>Payment</span>
        </a>
        <div class="dropdown-divider"></div>
        <a href="sign_in.html" class="dropdown-menu-item logout">
          <i class="fas fa-sign-out-alt"></i>
          <span>Log out</span>
        </a>
      </div>
    </div>
  </div>
  </header>
  <main style="
        background: url('./asserts/images/nenVideo.jpg') no-repeat center center fixed;
        background-size: cover;
      " class="min-h-screen flex flex-col items-center justify-start bg-gray-900 text-gray-100 space-y-4">
    <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4">
      Text To Video
    </h1>
    <div class="text mb-4">
      Turn your ideas into unique videos. Enter text, choose a genre, and let
      AI create an amazing video.
    </div>
    <div class="max-w-7xl w-full bg-gray-800 p-4 rounded-lg shadow-md">
      <div class="flex items-center justify-between mb-4">
        <span class="text-sm md:text-base px-3 py-2 font-bold">
          Text to Video
        </span>

        <!-- Credits g√≥c ph·∫£i -->
      </div>
      <textarea id="textInput"
        class="w-full bg-gray-700 p-3 rounded-md resize-none text-sm md:text-base border border-gray-700 hover:border-purple-400 transition-colors focus:outline-none focus:ring-2 focus:ring-purple-400"
        rows="5" maxlength="200" placeholder="Enter your idea..."></textarea>

      <div class="flex flex-col md:flex-row gap-4 mt-4">
        <!-- Style (chi·∫øm h·∫øt chi·ªÅu ngang mobile, 1/2 tr√™n desktop) -->
        <div class="w-full md:w-2/5 flex flex-col">
          <label class="font-semibold mb-1">Style</label>
          <select class="w-1/3 border border-gray-300 rounded-md p-2 text-black">
            <option>Realistic</option>
            <option>Animated</option>
            <option>Documentary</option>
          </select>
        </div>
        <div class="md:w-2/5"></div>
        <!-- Button (chi·∫øm h·∫øt chi·ªÅu ngang mobile, nh·ªè l·∫°i tr√™n desktop) -->
        <div class="md:flex sm:w-2/3 md:w-2/3 justify-end items-end gap-5">
          <button type="button" id="startBtn" class="bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transform hover:scale-105 transition-all duration-300 hover:shadow-lg hover:shadow-yellow-500/30">üé§ B·∫•m ƒë·ªÉ n√≥i</button>
          <button onclick="SendPrompt()"
            class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transform hover:scale-105 transition-all duration-300 hover:shadow-lg hover:shadow-blue-500/30">
            üìΩÔ∏è Generate video
          </button>
          <button id="clearBtn" 
          class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transform hover:scale-105 transition-all duration-300 hover:shadow-lg hover:shadow-red-500/30">Clear</button>
        </div>
        </div>

    
      </div>

      <div class="relative flex items-center gap-4 mt-6">
        <div id="mini-loader" class="absolute right-20 top-1/2 -translate-y-1/2 flex gap-2 items-end hidden">
          <span class="dot"></span>
          <span class="dot delay-1"></span>
          <span class="dot delay-2"></span>
        </div>
      </div>
    </div>
    <div class="max-w-7xl w-full bg-gray-800 p-4 rounded-lg shadow-md">
      <div class="flex items-center justify-between mb-4">
        <span class="text-sm md:text-base px-3 py-2 font-bold"> Result </span>
      </div>
      <div id="video-list" class="max-h-250 overflow-y-auto space-y-4 bg-gray-50 p-4 rounded-lg shadow"></div>
    </div>
    <section class="features-section">
      <div class="bg-particles" id="particles"></div>

      <div class="wow-layer">
          <div class="prompt-card">
              <div class="prompt-title">Your Simple Words...</div>
              <div class="prompt-text">
                A majestic eagle flying over a snow-capped mountain range at sunrise, cinematic, 4K, dramatic lighting.
                  <span class="typing-cursor"></span>
              </div>
          </div>

          <div class="connection-line"></div>

          <div class="video-showcase">
            <div class="video-frame">
                <!-- Video th·∫≠t s·ª± -->
                <video 
                    id="demoVideo" 
                    class="demo-video" 
                    loop 
                    muted 
                    preload="metadata"
                    poster="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
                >
                                                           
                    <source src="./asserts/videos/videodemo.mp4" type="video/mp4">
                    
                    <!-- Fallback n·∫øu kh√¥ng load ƒë∆∞·ª£c video -->
                    <div class="video-placeholder">
                        <div class="play-button">
                            <i class="fas fa-play" style="color: white; font-size: 1.5rem; margin-left: 4px;"></i>
                        </div>
                    </div>
                </video>
                
                <!-- Overlay v·ªõi n√∫t play -->
                <div class="video-overlay" id="videoOverlay">
                    <div class="play-button" id="playButton">
                        <i class="fas fa-play" style="color: white; font-size: 1.5rem; margin-left: 4px;"></i>
                    </div>
                </div>
                
                <!-- Video controls -->
                <div class="video-controls">
                    <button class="control-btn" id="pauseBtn" title="Pause/Play">
                        <i class="fas fa-pause"></i>
                    </button>
                    <button class="control-btn" id="muteBtn" title="Mute/Unmute">
                        <i class="fas fa-volume-up"></i>
                    </button>
                    <button class="control-btn" id="fullscreenBtn" title="Fullscreen">
                        <i class="fas fa-expand"></i>
                    </button>
                </div>
            </div>
            <div class="video-title">...Become a Visual Masterpiece.</div>
        </div>
      </div>

      <div class="toolkit-layer">
          <h2 class="toolkit-title">Your Creative Toolkit</h2>
          <div class="toolkit-grid">
              <div class="toolkit-card">
                  <i class="fas fa-wand-magic-sparkles toolkit-icon"></i>
                  <h3 class="toolkit-card-title">Infinite Styles</h3>
                  <p class="toolkit-card-desc">From cinematic and 3D animation to minimalist explainer videos. Choose a style, and the AI will apply it with perfect precision.</p>
              </div>
              <div class="toolkit-card">
                  <i class="fas fa-layer-group toolkit-icon"></i>
                  <h3 class="toolkit-card-title">Vast Asset Library</h3>
                  <p class="toolkit-card-desc">Access millions of 4K stock videos, images, and licensed music tracks. Never search for resources again.</p>
              </div>
              <div class="toolkit-card">
                  <i class="fas fa-palette toolkit-icon"></i>
                  <h3 class="toolkit-card-title">Brand Integration</h3>
                  <p class="toolkit-card-desc">The AI automatically applies your logo, fonts, and brand colors to every video to ensure consistency.</p>
              </div>
          </div>
      </div>

      <div class="why-layer">
          <div class="why-container">
              <h2 class="why-title">Unleash Your Potential</h2>
              <div class="why-grid">
                  <div class="why-card">
                      <div class="why-card-subtitle">For Marketers</div>
                      <h3 class="why-card-title">Boost Engagement 3x</h3>
                      <ul class="why-benefits">
                          <li>Create ad videos in minutes</li>
                          <li>Easily A/B test video content</li>
                          <li>Capture attention on social media</li>
                      </ul>
                  </div>
                  <div class="why-card">
                      <div class="why-card-subtitle">For Creators</div>
                      <h3 class="why-card-title">Save 90% of Your Time</h3>
                      <ul class="why-benefits">
                          <li>Automate tedious editing tasks</li>
                          <li>Turn long blog posts into a video series</li>
                          <li>Produce content 10x faster</li>
                      </ul>
                  </div>
                  <div class="why-card">
                      <div class="why-card-subtitle">For Businesses</div>
                      <h3 class="why-card-title">Scale Your Content</h3>
                      <ul class="why-benefits">
                          <li>Create internal training videos in bulk</li>
                          <li>Localize marketing videos into multiple languages</li>
                          <li>Produce professional video presentations</li>
                      </ul>
                  </div>
              </div>
          </div>
      </div>

      <div class="proof-layer">
          <div class="testimonial-card">
              <div class="testimonial-quote">
                  This tool is a game-changer. What used to take our team a week now takes less than an hour. The quality is simply astounding.
              </div>
              <div class="testimonial-author">
                  <div class="testimonial-avatar">AC</div>
                  <div class="testimonial-info">
                      <h4>Alex Chen</h4>
                      <p>Head of Digital Marketing at NovaCorp</p>
                  </div>
              </div>
          </div>
      </div>

      <div class="cta-layer">
          <h2 class="cta-question">Ready to Tell Your Story?</h2>
          <a href="#" class="cta-button">
              Start Creating Your First Video for Free
          </a>
      </div>
</section>

  </main>
  <section class="pt-5" style="background-color: #000000;">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-3xl font-bold text-white mb-6 text-center">Li√™n H·ªá</h2>
      <p class="text-gray-600 mb-4 text-center">N·∫øu b·∫°n c√≥ b·∫•t k·ª≥ c√¢u h·ªèi ho·∫∑c g√≥p √Ω n√†o, h√£y li√™n h·ªá v·ªõi ch√∫ng t√¥i qua
        email ho·∫∑c theo d√µi tr√™n c√°c m·∫°ng x√£ h·ªôi:</p>
      <ul class="list-disc list-inside text-gray-600 text-center">
        <li>Email: support@alchemistai.com</li>
        <li>Facebook: <a href="#" class="text-blue-600 hover:underline">AlchemistAI Official</a></li>
        <li>Twitter: <a href="#" class="text-blue-600 hover:underline">@AlchemistAI</a></li>
      </ul>
    </div>
  </section>
  <script>
    //const slider = document.getElementById("durationRange");
    //const display = document.getElementById("durationDisplay");

    // C·∫≠p nh·∫≠t gi√° tr·ªã khi ng∆∞·ªùi d√πng k√©o
    //slider.addEventListener("input", function () {
    //display.textContent = `${slider.value} second`;
    //});

    // Hi·ªÉn th·ªã gi√° tr·ªã ban ƒë·∫ßu
    //display.textContent = `${slider.value} second`;
  </script>
  <script>
    anime({
      targets: ".line",
      strokeDashoffset: [anime.setDashoffset, 0],
      easing: "easeInOutSine",
      duration: 2000,
      delay: anime.stagger(100),
      direction: "alternate",
      loop: true,
    });
// Create animated particles
function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (3 + Math.random() * 3) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            createParticles();
            initializeVideo();
            
            // Observe all cards for scroll animations
            const cards = document.querySelectorAll('.toolkit-card, .why-card, .testimonial-card');
            cards.forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(50px)';
                card.style.transition = 'all 0.6s ease';
                observer.observe(card);
            });
        });

        // Video functionality
        function initializeVideo() {
            const video = document.getElementById('demoVideo');
            const overlay = document.getElementById('videoOverlay');
            const playButton = document.getElementById('playButton');
            const pauseBtn = document.getElementById('pauseBtn');
            const muteBtn = document.getElementById('muteBtn');
            const fullscreenBtn = document.getElementById('fullscreenBtn');
            
            // Play button click
            playButton.addEventListener('click', () => {
                video.play();
                overlay.classList.add('hidden');
            });
            
            // Video ended - show overlay again
            video.addEventListener('ended', () => {
                overlay.classList.remove('hidden');
                playButton.innerHTML = '<i class="fas fa-redo" style="color: white; font-size: 1.5rem;"></i>';
            });
            
            // Pause/Play control
            pauseBtn.addEventListener('click', () => {
                if (video.paused) {
                    video.play();
                    pauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                } else {
                    video.pause();
                    pauseBtn.innerHTML = '<i class="fas fa-play"></i>';
                }
            });
            
            // Mute/Unmute control
            muteBtn.addEventListener('click', () => {
                video.muted = !video.muted;
                muteBtn.innerHTML = video.muted ? 
                    '<i class="fas fa-volume-mute"></i>' : 
                    '<i class="fas fa-volume-up"></i>';
            });
            
            // Fullscreen control
            fullscreenBtn.addEventListener('click', () => {
                if (video.requestFullscreen) {
                    video.requestFullscreen();
                } else if (video.webkitRequestFullscreen) {
                    video.webkitRequestFullscreen();
                } else if (video.msRequestFullscreen) {
                    video.msRequestFullscreen();
                }
            });
            
            // Auto-play on hover (optional)
            video.addEventListener('mouseenter', () => {
                if (video.paused && !overlay.classList.contains('hidden')) {
                    // Optional: auto-preview on hover
                }
            });
        }

        // Play button interaction
        document.querySelector('.play-button').addEventListener('click', () => {
            alert('Video demo s·∫Ω ƒë∆∞·ª£c ph√°t ·ªü ƒë√¢y!');
        });

  </script>
  <script>
    document.getElementById("clearBtn").addEventListener('click', function () {
      document.getElementById('textInput').value = '';
    });
    async function SendPrompt() {
      const loader = document.getElementById("mini-loader");
      const prompt = document.getElementById("textInput").value.trim();
      const videoList = document.getElementById("video-list");
      const style = document.querySelector("select").value;
      const username = localStorage.getItem('username') || sessionStorage.getItem('username');

      if (!prompt) {
        alert("Vui l√≤ng nh·∫≠p n·ªôi dung tr∆∞·ªõc khi t·∫°o video.");
        return;
      }

      loader.classList.remove("hidden");

      // G·ªôp prompt + style th√†nh m·ªôt chu·ªói duy nh·∫•t
      const combinedPrompt = `prompt: ${prompt} | style: ${style}`;

      try {
        const response = await fetch(
          "https://ba099f05-8ead-421a-b029-5287401eb07a-00-10jkvmlab05re.pike.replit.dev/api/texttovideo",
          {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ username, prompt: combinedPrompt }),
          }
        );

        const data = await response.json();
        if (data.success) {
          const videoUrl = data.file_path;

          const videoElement = document.createElement("video");
          videoElement.src = videoUrl;
          videoElement.controls = true;
          videoElement.classList.add("w-full", "rounded-md", "shadow-md");

          const label = document.createElement("p");
          label.textContent = `${videoUrl
            .split("/")
            .pop()} - ${new Date().toLocaleString()}`;
          label.classList.add("text-sm", "text-gray-700");

          const wrapper = document.createElement("div");
          wrapper.classList.add("mb-4");
          wrapper.appendChild(label);
          wrapper.appendChild(videoElement);

          videoList.prepend(wrapper);
          while (videoList.childNodes.length > 5) {
            videoList.removeChild(videoList.lastChild);
          }
        } else {
          alert("L·ªói t·∫°o video: " + data.error);
        }
      } catch (error) {
        console.error("L·ªói khi g·ª≠i y√™u c·∫ßu:", error);
      } finally {
        loader.classList.add("hidden");
      }
    }
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
    const username = localStorage.getItem('username') || sessionStorage.getItem('username');
      fetch(`https://ba099f05-8ead-421a-b029-5287401eb07a-00-10jkvmlab05re.pike.replit.dev/api/get_ttv_data?username=${username}`)
        .then((res) => res.json())
        .then((data) => {
          const videoList = document.getElementById("video-list");
          videoList.innerHTML = "";

          if (data.success && data.ttv_data.length > 0) {
            data.ttv_data.forEach((video, index) => {
              // T√°ch prompt v√† style t·ª´ input_text
              let promptText = "",
                styleText = "";
              if (video.input_text) {
                const arr = video.input_text.split("|").map((s) => s.trim());
                for (let part of arr) {
                  if (part.toLowerCase().startsWith("prompt:"))
                    promptText = part.slice(7).trim();
                  if (part.toLowerCase().startsWith("style:"))
                    styleText = part.slice(6).trim();
                }
              }

              // T·∫°o khung hi·ªÉn th·ªã
              const wrapper = document.createElement("div");
              wrapper.className = "flex bg-white rounded shadow p-4 mb-4";

              // Video b√™n tr√°i
              const videoEl = document.createElement("video");
              videoEl.src = `https://b6a62881-28fe-479b-b45b-27ced866329b-00-3ayo8cow7loyp.pike.replit.dev/${video.result}`;
              videoEl.controls = true;
              videoEl.className = "w-1/4 rounded";

              // Th√¥ng tin b√™n ph·∫£i
              const info = document.createElement("div");
              info.className = "ml-4 flex flex-col justify-center w-3/4";

              // Prompt d√≤ng 1
              const title = document.createElement("p");
              title.className = "text-base font-semibold text-gray-800";
              title.textContent = `Video ${index + 1}: ${promptText}`;

              // Style d√≤ng 2
              const styleP = document.createElement("p");
              styleP.className = "text-sm text-gray-600";
              styleP.textContent = `Style: ${styleText}`;

              info.appendChild(title);
              info.appendChild(styleP);

              // G·ªôp v√†o wrapper
              wrapper.appendChild(videoEl);
              wrapper.appendChild(info);
              videoList.appendChild(wrapper);
            });
          } else {
            videoList.innerHTML =
              "<p class='text-gray-500'>Ch∆∞a c√≥ video n√†o ƒë∆∞·ª£c t·∫°o.</p>";
          }
        })
        .catch((error) => {
          console.error("L·ªói khi l·∫•y video:", error);
          document.getElementById("video-list").innerHTML =
            "<p class='text-red-500'>L·ªói khi t·∫£i video.</p>";
        });
    });
  </script>
  
</body>
<script src="./js/chatbot.js"></script>
<script src="./js/speech-to-text.js"></script>
<script src="./js/header.js"></script>
</html>
